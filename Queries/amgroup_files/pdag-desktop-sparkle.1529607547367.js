var AsyncDesktopSparkle=function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={exports:{},id:i,loaded:!1};return e[i].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var a=n(2),r=i(a),o=n(3),s=i(o),l=n(9),c=i(l),d=n(10),u=i(d),p=n(11),f=i(p),m="pdagDesktopSparkle",w="pdagDesktopSparkleContainer",k="desktopSparkleSoftlines",g="desktopSparkleStoresNavigator";!function(e){var t=null;e.HSADesktopSparkleLoad=function(e){t&&(t.doCleanup(),t=null);var n=document.getElementById(m);if(n){var i=document.getElementById(w),a=i&&r["default"].hasClass(i,k),o=i&&r["default"].hasClass(i,g);t=a?new c["default"]:o?new u["default"]:new s["default"],t.init()}if(e.pdagSparkleClientContext){var l=new f["default"](e.pdagSparkleClientContext);l.attachGlobals()}},e.HSADesktopSparkleLoad(e)}(window)},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(){n(this,e)}return i(e,[{key:"addClass",value:function(e,t){if(t&&""!==t){var n=e.className,i=n.split(" ");i.indexOf(t)<0&&i.push(t),e.className=i.join(" ")}}},{key:"removeClass",value:function(e,t){if(t&&""!==t){var n=e.className,i=n.split(" "),a=i.indexOf(t);a>=0&&i.splice(a,1),e.className=i.join(" ")}}},{key:"hasClass",value:function(e,t){if(t&&""!==t){var n=e.className,i=n.split(" ");return i.indexOf(t)>=0}return!1}}]),e}();e.exports=new a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(4),o=n(5),s=n(6),l=n(7),c=n(8),d={maxLines:3,minFontPx:16,maxFontPx:19},u=function(){function e(){i(this,e),this.headlineId="pdagDesktopSparkleHeadline",this.templateId="pdagDesktopSparkle",this.adFeedbackButtonId="pdagDesktopSparkleFeedback",this.descriptions=["pdagDesktopSparkleDescription1","pdagDesktopSparkleDescription2","pdagDesktopSparkleDescription3"],this.template=document.getElementById(this.templateId)}return a(e,[{key:"init",value:function(){var e=this;this.template&&(window.originalHSASparkleCreativeHeadline=document.getElementById(this.headlineId)?document.getElementById(this.headlineId).innerHTML:"",(0,r.truncateText)(document.getElementById(this.headlineId),d,window.originalHSASparkleCreativeHeadline),window.HSADesktopOptimizePlacementsListener=(0,l.addListener)(window,"resize",function(){e.optimizeAsinsPlacements()}),this.optimizeAsinsPlacements(),window.hsaProductDescriptionResizeHandler&&(0,c.removeListener)(window,"resize",window.hsaProductDescriptionResizeHandler),this.checkProductDescription()&&(window.originalHSASparkleCreativeDescriptions=[],this.descriptions.forEach(function(e){window.originalHSASparkleCreativeDescriptions.push(document.getElementById(e)?document.getElementById(e).innerHTML:"")}),window.hsaProductDescriptionResizeHandler=(0,l.addListener)(window,"resize",function(){e.truncateProductDescriptions(e.descriptions)}),this.truncateProductDescriptions(this.descriptions)),(0,o.clickthroughLink)(this.templateId),(0,s.adFeedback)(this.adFeedbackButtonId))}},{key:"doCleanup",value:function(){window.HSADesktopOptimizePlacementsListener&&((0,c.removeListener)(window,"resize",window.HSADesktopOptimizePlacementsListener),window.HSADesktopOptimizePlacementsListener=null),window.hsaProductDescriptionResizeHandler&&((0,c.removeListener)(window,"resize",window.hsaProductDescriptionResizeHandler),window.hsaProductDescriptionResizeHandler=null)}},{key:"optimizeAsinsPlacements",value:function(){var e=document.getElementById("pdagDesktopSparkleAsinsContainer");if(e){var t=e.offsetWidth,n=e.children[0]?parseInt(window.getComputedStyle(e.children[0]).getPropertyValue("min-width")):150,i="desktopSparkle__asinsContainer--oneAsin",a="desktopSparkle__asinsContainer--twoAsins",r=10;t>0&&n>0&&(2*(n+r)>t?(e.classList.add(i),e.classList.remove(a)):3*(n+r)>t?(e.classList.add(a),e.classList.remove(i)):(e.classList.remove(i),e.classList.remove(a)))}}},{key:"truncateProductDescriptions",value:function(e){var t={maxLines:2,minFontPx:12,maxFontPx:12};e.forEach(function(e,n){(0,r.truncateText)(document.getElementById(e),t,window.originalHSASparkleCreativeDescriptions[n])})}},{key:"checkProductDescription",value:function(){var e=!1;return this.descriptions.forEach(function(t){document.getElementById(t)&&(e=!0)}),e}}]),e}();t["default"]=u},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=999,i="...";t.truncateText=function(e,t,a){var r=e,o=document.createElement("div");if(r&&o){var s=a;r.innerHTML=s,s=s.replace(/\u00a0/g," "),o.innerHTML=s,s=o.textContent||o.innerHTML||"",o.textContent="",r.style.fontSize=t.maxFontPx+"px";for(var l=r.getClientRects().length,c=t.maxFontPx,d=!1,u=0;l>t.maxLines;){if(c<=t.minFontPx){d||(s+=i,d=!0);var p=s.length;s=s.substr(0,p-i.length-1)+i,r.innerHTML=s}else c--,r.style.fontSize=c+"px";if(l=r.getClientRects().length,u++,u>n)break}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=499,i=150,a=function(e){var t=r(e);t&&t.href&&(t.clickTrackerUrls&&o(t.clickTrackerUrls),setTimeout(function(){window.open(t.href,t.anchorTarget)},i),e.preventDefault())},r=function(e){for(var t=e.target,i=e.currentTarget,a=0;t&&t!==i;){if("A"===t.tagName){var r=t.getAttribute("data-clickTrackerUrls"),o=t.getAttribute("target");return{href:t.getAttribute("href"),clickTrackerUrls:r?r.split("|"):null,anchorTarget:o?o:"_top"}}if(t=t.parentNode,a++,a>n)break}return null},o=function(e){e.forEach(function(e){"undefined"!=typeof Image&&((new Image).src=e)})};t.clickthroughLink=function(e){var t=document.getElementById(e);t&&(t.onclick=a)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="https://www.amazon.${tld}/aan/2009-09-09/ad/feedback.${marketPlaceId}/default?pt=RemoteContent&slot=main&pt2=${marketPlaceId}-external",i=function(e){return"US"===e?"com":("UK"===e||"JP"===e?"co.":"")+e.toLowerCase()},a=function(e){return"UK"===e?"gb":e.toLowerCase()},r=function(){var e=window.parent||window,t=e.document||null;if(t){var r=t.getElementById("DA99999i");r||(r=t.createElement("iframe"),r.style.display="none",r.id="DA99999i",t.body.appendChild(r)),e.DAF=["99999","site=amazon.us;pt=Search;slot=auto-sparkle;"];var o=this.getAttribute("data-marketPlace"),s={adId:this.getAttribute("data-adId"),creativeId:this.getAttribute("data-creativeId")},l=t.createElement("script");l.src=n.replace(/\${tld}/g,i(o)).replace(/\${marketPlaceId}/g,a(o)),l.type="text/javascript",t.body.appendChild(l),r.contentWindow?r.contentWindow.aanResponse=s:r.contentDocument&&(r.contentDocument.aanResponse=s)}};t.adFeedback=function(e){var t=document.getElementById(e);t&&(t.onclick=r)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.addListener=function(e,t,n){var i=function(e){var t=e||window.event;return n(t)};if(e.addEventListener)e.addEventListener(t,i,!0);else if(t="on"+t,e.attachEvent)e.attachEvent(t,i);else{var a=e[t];e[t]=function(){i.apply(this,arguments),"function"==typeof a&&a.apply(this,arguments)}}return i}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.removeListener=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!0);else if(t="on"+t,e.detachEvent)e.detachEvent(t,n);else{e[t];e[t]=function(){}}}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(4),o=n(5),s=n(6),l=n(7),c=n(8),d=980,u=2,p="pdagDesktopSparkleContainer",f="pdagDesktopSparkleHeadline",m="pdagDesktopSparkleAsinsContainer",w="pdagDesktopSparkleAsinContainer3",k="pdagDesktopSparkleBrandingContainer",g={wideContainer:"pdagDesktopSparkleContainer--wide",narrowContainer:"pdagDesktopSparkleContainer--narrow",twoAsins:"desktopSparkle__asinsContainer--twoAsins",regularBranding:"desktopSparkle__brandingContainer--regular",regularAsinContainer:"desktopSparkle__asinsContainer--regular",wideBranding:"desktopSparkle__brandingContainer--wide",wideAsinContainer:"desktopSparkle__asinsContainer--wide"},v=["pdagDesktopSparkleDescription1","pdagDesktopSparkleDescription2","pdagDesktopSparkleDescription3"],h=function(){function e(){i(this,e),this.templateId="pdagDesktopSparkle",this.adFeedbackButtonId="pdagDesktopSparkleFeedback",this.template=document.getElementById(this.templateId)}return a(e,[{key:"init",value:function(){var e=this;if(this.template){window.HSASparkleSoftlinesMetadata=window.HSASparkleSoftlinesMetadata||{};var t=document.getElementById(f);window.HSASparkleSoftlinesMetadata.headline=t?t.innerHTML:"",window.HSASparkleSoftlinesMetadata.HSAOptimizePlacementsListener=(0,l.addListener)(window,"resize",function(){e.optimizeAsinsPlacements(),e.truncateHeadline()}),this.optimizeAsinsPlacements(),this.truncateHeadline(),window.HSASparkleSoftlinesMetadata.productDescriptions=[],document.getElementById(v[0])&&(v.forEach(function(e){var t=document.getElementById(e);window.HSASparkleSoftlinesMetadata.productDescriptions.push(t?t.innerHTML:"")}),window.HSASparkleSoftlinesMetadata.HSAPDTruncateListener=(0,l.addListener)(window,"resize",function(){e.truncateProductDescriptions()}),this.truncateProductDescriptions()),(0,o.clickthroughLink)(this.templateId),(0,s.adFeedback)(this.adFeedbackButtonId)}}},{key:"doCleanup",value:function(){window.HSASparkleSoftlinesMetadata&&window.HSASparkleSoftlinesMetadata.HSAOptimizePlacementsListener&&((0,c.removeListener)(window,"resize",window.HSASparkleSoftlinesMetadata.HSAOptimizePlacementsListener),window.HSASparkleSoftlinesMetadata.HSAOptimizePlacementsListener=null),window.HSASparkleSoftlinesMetadata&&window.HSASparkleSoftlinesMetadata.HSAPDTruncateListener&&((0,c.removeListener)(window,"resize",window.HSASparkleSoftlinesMetadata.HSAPDTruncateListener),window.HSASparkleSoftlinesMetadata.HSAPDTruncateListener=null)}},{key:"truncateHeadline",value:function(){var e=document.getElementById(f),t=parseInt(window.getComputedStyle(e).getPropertyValue("font-size")),n={maxLines:2,minFontPx:t,maxFontPx:t};(0,r.truncateText)(e,n,window.HSASparkleSoftlinesMetadata.headline)}},{key:"optimizeAsinsPlacements",value:function(){var e=document.getElementById(p);if(e){var t=e.offsetWidth,n=document.getElementById(m),i=document.getElementById(k);if(n.childNodes.length<=u)e.classList.remove(g.wideContainer),e.classList.add(g.narrowContainer),n.classList.add(g.twoAsins);else{var a=document.getElementById(w);t>0&&d>t?(a&&(a.style.visibility="hidden"),n.classList.add(g.twoAsins)):(a&&(a.style.visibility="visible"),n.classList.remove(g.twoAsins))}t>d?(i.classList.add(g.wideBranding),n.classList.add(g.wideAsinContainer),i.classList.remove(g.regularBranding),n.classList.remove(g.regularAsinContainer)):(i.classList.add(g.regularBranding),n.classList.add(g.regularAsinContainer),i.classList.remove(g.wideBranding),n.classList.remove(g.wideAsinContainer))}}},{key:"truncateProductDescriptions",value:function(){var e={maxLines:3,minFontPx:12,maxFontPx:13};v.forEach(function(t,n){(0,r.truncateText)(document.getElementById(t),e,window.HSASparkleSoftlinesMetadata.productDescriptions[n])})}}]),e}();t["default"]=h},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(5),o=n(6),s=n(7),l=n(8),c="pdagDesktopSparkleStorePagesContainer",d="desktopSparkle__storePageContainer",u="desktopSparkle__storePagesContainer--threePages",p="desktopSparkle__storePagesContainer--fourPages",f="storePagesLooper",m=5,w=6,k=11,g=function(){function e(){i(this,e),this.templateId="pdagDesktopSparkle",this.adFeedbackButtonId="pdagDesktopSparkleFeedback",this.template=document.getElementById(this.templateId)}return a(e,[{key:"init",value:function(){var e=this;this.template&&(window.HSASparkleStoresNavigatorMetadata=window.HSASparkleStoresNavigatorMetadata||{},window.HSASparkleStoresNavigatorMetadata.HSADesktopOptimizePlacementsListener=(0,s.addListener)(window,"resize",function(){e.optimizeStorePagesPlacements()}),this.optimizeStorePagesPlacements(),(0,r.clickthroughLink)(this.templateId),(0,o.adFeedback)(this.adFeedbackButtonId))}},{key:"doCleanup",value:function(){window.HSASparkleStoresNavigatorMetadata.HSADesktopOptimizePlacementsListener&&((0,l.removeListener)(window,"resize",window.HSASparkleStoresNavigatorMetadata.HSADesktopOptimizePlacementsListener),window.HSASparkleStoresNavigatorMetadata.HSADesktopOptimizePlacementsListener=null)}},{key:"optimizeStorePagesPlacements",value:function(){var e=document.getElementById(c);if(e){var t=e.offsetWidth,n=document.getElementById(f).getElementsByClassName(d),i=parseInt(window.getComputedStyle(n[0]).getPropertyValue("width"));t>0&&i>0&&((i+k)*m>t?(e.classList.add(u),e.classList.remove(p)):(i+k)*w>t?(e.classList.add(p),e.classList.remove(u)):(e.classList.remove(u),e.classList.remove(p)))}}}]),e}();t["default"]=g},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(12),l=i(s),c=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dacxLogger.logViewabilitySuccess(),n}return o(t,e),t}(l["default"]);t["default"]=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(13),s=i(o),l=function(){function e(t){if(a(this,e),this.window=t.window||"undefined"!=typeof window&&window,!this.window||!this.window.document)throw new Error("Window and/or document is not defined");this.dacxLogger=t.dacxLogger||new s["default"](t.baseUrl,t.impressionId),this.aid=t.adId,this.cid=t.creativeId,this.dacxLogger.logImpression()}return r(e,[{key:"attachGlobals",value:function(){this.window.document.ad={aid:this.adId,cid:this.creativeId},this.window.DacxLogger=this.dacxLogger}}]),e}();t["default"]=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n=new u["default"](e,p),i={i:t.dacxImpressionId,click:1};return n.getPixelUrl(i)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.generateDacxClickTrackerUrl=l;var d=n(14),u=i(d),p="416731613",f="client_imp",m="view",w="swipe",k=-1,g=1,v=2,h=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,p));return i.impressionId=n,i}return s(t,e),c(t,[{key:"logMetric",value:function(e,t){var n=a({i:this.impressionId},e,t||1);this.firePixel(n)}},{key:"logImpression",value:function(){this.logMetric(f)}},{key:"logViewabilitySuccess",value:function(){this.logMetric(m,g)}},{key:"logBareViewabilitySuccess",value:function(){this.logMetric(m,v)}},{key:"logViewabilityFailure",value:function(){this.logMetric(m,k)}},{key:"logSwipe",value:function(){this.logMetric(w)}}]),t}(u["default"]);t["default"]=h},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(15).getQueryString,o=function(){function e(t,n){i(this,e),this.baseUrl=t,this.channel=n}return a(e,[{key:"getPixelUrl",value:function(e){var t="?"+encodeURIComponent(r(e));return this.baseUrl+"/iu3?d=forester-did&ex-fch="+this.channel+"&ex-fargs="+t+"&cb="+(new Date).getTime()}},{key:"firePixel",value:function(e){var t=new Image;return t.src=this.getPixelUrl(e),t}}]),e}();t["default"]=o},function(e,t){"use strict";function n(e,t){var n=[];for(var i in e)n.push(i+"="+e[i]);var a=n.join("&");return t?encodeURIComponent(a):a}function i(e,t){for(var n=0,i=e.length;i>n;n++)t(e[n],n,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getQueryString=n,t.forEach=i}]);