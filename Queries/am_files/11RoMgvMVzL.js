(function(g){var f=window.AmazonUIPageJS||window.P,l=f._namespace||f.attributeErrors,b=l?l("SXWidgetAssets",""):f;b.guardFatal?b.guardFatal(g)(b,window):b.execute(function(){g(b,window)})})(function(g,f,l){g.when("A","ready").execute(function(b){function g(a){var h=c("#"+a+"-featured-asin-widget").find("#"+a+"-see-more-container").find(".s-see-more-widget:visible");0<h.length?h.slideUp(400,function(){f(a)}):f(a)}function f(a){var h=c("#"+a+"-featured-asin-widget");h.find(".s-see-more-btn").removeClass("a-button-selected");
var b=h.find("#"+a+"-see-more-container");b.find(".s-see-more-widget").hide();b.find(".s-see-more-button-close").hide();b.find(".s-see-more-spinner").hide();b.find(".s-see-more-error-msg").hide();h.find("#"+a+"-see-more-arrow").hide();b.removeClass("s-see-more-border")}function l(a){var b=c("#"+a+"-featured-asin-widget .s-see-more-btn.a-button-selected");if(b.length){var f=c("#"+a+"-see-more-arrow"),k=b.offset();a=c("#"+a+"-see-more-container").offset();var b=b.outerWidth(),g=f.outerWidth();f.css("left",
k.left-a.left+b/2-g/2);f.show()}}function w(a){var b=a.css("display");a.css("display","inline-block");a.width();a.css("display",b)}function m(){c(".s-see-more-btn").removeClass("a-button-disabled")}var c=b.$,n={};b.declarative("s-widget-see-more","click",function(a){function h(){x++;var c="/s/widget?rec-widget\x3d"+a.data.recWidget+"\x26w-sel\x3d"+escape("#"+q);b.get(c,{timeout:3E3,success:function(b,a,c){k.push(d+":SMClickSuccess");m(k,1);r!=n[d]?e.hide():(t.hide(),y.hide(),0<e.html().length&&(e.slideDown(),
u.show(),w(e)))},error:function(b,a,c){3>x?h():(k.push(d+":SMClickFailure"),m(k,1),r==n[d]&&(t.hide(),y.show(),e.hide(),u.hide()))}})}function m(a,c){var d="/s/querylog?entry\x3dcounters\x26names\x3d"+a.join(",")+"\x26value\x3d"+c;b.post(d,{})}var k=[],p=a.$currentTarget,d=a.data.widgetId;d in n||(n[d]=0);var r=++n[d];1==r&&k.push(d+":SMFirstClick");var v=c("#"+d+"-see-more-container"),t=c("#"+d+"-see-more-spinner"),y=c("#"+d+"-see-more-error-msg"),u=c("#"+d+"-see-more-button-close"),p=p.find(".s-see-more-btn"),
q=d+"-"+a.data.id+"-see-more-widget",e=c("#"+q);if(e.is(":visible"))g(d),p.removeClass("a-button-focus");else{f(d);p.addClass("a-button-selected");if(0<e.length){if(0<e.html().length){v.addClass("s-see-more-border");l(d);e.slideDown();u.show();b.trigger("a:pageUpdate");k.push(d+":SMRevisit");m(k,1);w(e);return}}else e=c(document.createElement("div")).addClass("s-see-more-widget").attr("id",q),e.hide(),v.append(e);v.addClass("s-see-more-border");l(d);t.show();var x=0;h()}});b.declarative("s-widget-see-more-close",
"mousedown",function(a){g(a.data.widgetId)});b.on.resize(function(){c(".s-see-more-container").each(function(){var a=c(this).data("widget-id");l(a)})});b.on("searchAjaxTransitionDone",m);b.on("sx:pageUpdate",m);m()})});